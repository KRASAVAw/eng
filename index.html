<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Дашка</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@500;700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #FFF9FB;
            --card-bg: #ffffff;
            --primary-color: #F472B6;
            --primary-hover: #EC4899;
            --text-color: #585064;
            --text-muted: #A8A0B5;
            --border-color: #FCE7F3;
            --correct-color: #10B981;
            --incorrect-color: #EF4444;
            --shadow: 0 10px 30px rgba(236, 72, 153, 0.15);
            --font-heading: 'Lora', serif;
            --font-body: 'Nunito', sans-serif;
        }

        body {
            font-family: var(--font-body);
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23FBCFE8' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        
        .container {
            position: relative;
            background: var(--card-bg);
            padding: 35px 40px;
            border-radius: 24px;
            box-shadow: var(--shadow);
            width: 100%;
            max-width: 550px;
            text-align: center;
            border: 1px solid var(--border-color);
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.7s ease-out forwards;
        }
        
        .container::before, .container::after {
            content: '';
            position: absolute;
            width: 100px;
            height: 100px;
            background-repeat: no-repeat;
            background-size: contain;
            opacity: 0.3;
            pointer-events: none;
        }
        .container::before {
            top: -20px;
            left: -20px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath d='M50,10 A20,20 0 0,1 70,30 A20,20 0 0,1 50,50 A20,20 0 0,1 30,30 A20,20 0 0,1 50,10' fill='%23EC4899'/%3E%3Cpath d='M30,70 A20,20 0 0,1 50,90 A20,20 0 0,1 30,70' fill='%23F472B6'/%3E%3Cpath d='M70,70 A20,20 0 0,1 90,50 A20,20 0 0,1 70,70' fill='%23F472B6'/%3E%3Ccircle cx='50' cy='30' r='5' fill='%23fff'/%3E%3C/svg%3E");
        }
        .container::after {
            bottom: -20px;
            right: -20px;
            transform: rotate(180deg);
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath d='M50,10 A20,20 0 0,1 70,30 A20,20 0 0,1 50,50 A20,20 0 0,1 30,30 A20,20 0 0,1 50,10' fill='%23EC4899'/%3E%3Cpath d='M30,70 A20,20 0 0,1 50,90 A20,20 0 0,1 30,70' fill='%23F472B6'/%3E%3Cpath d='M70,70 A20,20 0 0,1 90,50 A20,20 0 0,1 70,70' fill='%23F472B6'/%3E%3Ccircle cx='50' cy='30' r='5' fill='%23fff'/%3E%3C/svg%3E");
        }

        @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }

        h1 {
            font-family: var(--font-heading);
            margin-top: 0;
            margin-bottom: 30px;
            font-weight: 700;
            color: var(--primary-hover);
        }

        .view { transition: opacity 0.5s ease, transform 0.5s ease; }
        .hidden-view { position: absolute; opacity: 0; transform: scale(0.95); pointer-events: none; width: calc(100% - 80px); }

        .setting-group { text-align: left; margin-bottom: 20px; }
        .setting-group label {
            margin-bottom: 10px; font-weight: 700; font-size: 14px;
            color: var(--text-muted); display: block;
        }
        .label-with-value { display: flex; justify-content: space-between; align-items: center; }

        select, button, input {
            width: 100%; padding: 14px 16px; border-radius: 12px;
            font-size: 16px; font-family: var(--font-body); box-sizing: border-box;
            background-color: #fff; color: var(--text-color);
            border: 2px solid var(--border-color);
            transition: all 0.25s ease-out;
        }

        select:focus, input:focus {
            outline: none; border-color: var(--primary-color);
            box-shadow: 0 0 0 4px rgba(244, 114, 182, 0.2);
        }
        
        button {
            background: var(--primary-color); color: white; border: none;
            cursor: pointer; font-weight: 700; font-size: 18px;
            transform: translateY(0); margin-top: 20px;
        }
        button:hover {
            background: var(--primary-hover);
            box-shadow: 0 5px 15px rgba(236, 72, 153, 0.3);
            transform: translateY(-3px);
        }
        
        input[type="range"] {
            -webkit-appearance: none; appearance: none; background: transparent; cursor: pointer; padding: 0;
        }
        input[type="range"]::-webkit-slider-runnable-track {
            background: var(--border-color); height: 8px; border-radius: 4px;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none; appearance: none; margin-top: -6px;
            background-color: var(--primary-color); height: 20px; width: 20px;
            border-radius: 50%;
        }

        #progress-tracker { color: var(--text-muted); font-weight: 700; margin-bottom: 15px; }

        #word-container {
            padding: 25px; background-color: var(--bg-color); border-radius: 16px; margin-bottom: 20px;
            border: 2px dashed var(--border-color);
        }
        #word-to-translate {
            font-family: var(--font-heading); font-size: 32px; font-weight: 700;
            color: var(--text-color); min-height: 45px;
            transition: opacity 0.3s ease-in-out;
        }
        
        #answer-input { margin-bottom: 15px; }
        #answer-input.correct-glow { border-color: var(--correct-color); box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.2); }
        #answer-input.incorrect-glow { border-color: var(--incorrect-color); box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.2); }
        
        .feedback {
            padding: 12px; border-radius: 12px; margin-top: 20px;
            font-weight: 700; font-size: 16px; min-height: 24px;
            opacity: 0; transform: scale(0.95); transition: all 0.3s ease-in-out;
        }
        .feedback.visible { opacity: 1; transform: scale(1); }
        .feedback.correct { background-color: #F0FDF4; color: var(--correct-color); }
        .feedback.incorrect { background-color: #FEF2F2; color: var(--incorrect-color); }

        .shake-animation { animation: shake 0.5s ease-in-out; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); } 20%, 40%, 60%, 80% { transform: translateX(5px); } }
        
        #score-area {
            margin-top: 35px; padding-top: 25px; border-top: 2px solid var(--border-color);
            display: flex; justify-content: space-around;
        }
        .score-item { display: flex; flex-direction: column; }
        .score-label { color: var(--text-muted); font-size: 14px; font-weight: 700; }
        .score-value { font-weight: 700; font-size: 24px; transition: transform 0.2s ease-out; }
        .score-pop { transform: scale(1.2); }
        #score-correct { color: var(--correct-color); }
        #score-incorrect { color: var(--incorrect-color); }
        #score-total { color: var(--primary-color); }
    </style>
</head>
<body>

    <div class="container" id="container">
        <h1>Дашка</h1>
        
        <div class="settings-view view" id="settings-view">
            <div class="setting-group">
                <label for="level-select">Уровень сложности</label>
                <select id="level-select">
                    <option value="A1">A1 (Beginner)</option>
                    <option value="A2">A2 (Elementary)</option>
                    <option value="B1">B1 (Intermediate)</option>
                    <option value="B2">B2 (Upper-Intermediate)</option>
                    <option value="C1">C1 (Advanced)</option>
                    <option value="C2">C2 (Proficiency)</option>
                </select>
            </div>
            <div class="setting-group">
                <label for="mode-select">Режим игры</label>
                <select id="mode-select">
                    <option value="en-ru">Английский -> Русский</option>
                    <option value="ru-en">Русский -> Английский</option>
                    <option value="mixed">Смешанный</option>
                </select>
            </div>
            <div class="setting-group">
                <div class="label-with-value">
                    <label for="word-count-slider">Количество слов</label>
                    <span id="word-count-display">25</span>
                </div>
                <input type="range" id="word-count-slider" min="10" max="100" value="25">
            </div>
            <button id="start-button">Начать Тренировку</button>
        </div>

        <div class="game-view view hidden-view" id="game-view">
            <p id="progress-tracker">Слово <span id="current-word-number"></span> из <span id="total-word-number"></span></p>
            <div id="word-container"><p id="word-to-translate"></p></div>
            <input type="text" id="answer-input" placeholder="Введите ваш перевод..." autocomplete="off">
            <button id="action-button">Проверить</button>
            <div id="feedback" class="feedback"></div>
            <div id="score-area">
                <div class="score-item"><span class="score-label">Правильно</span><span id="score-correct" class="score-value">0</span></div>
                <div class="score-item"><span class="score-label">Неправильно</span><span id="score-incorrect" class="score-value">0</span></div>
                <div class="score-item"><span class="score-label">Всего</span><span id="score-total" class="score-value">0</span></div>
            </div>
            <button id="back-button" style="margin-top: 30px; background: none; border: 2px solid var(--border-color); color: var(--text-muted); font-size: 16px;">Закончить</button>
        </div>

        <div class="level-complete-view view hidden-view" id="level-complete-view">
            <h2>🌸 Сессия завершена! 🌸</h2>
            <p>Отличная работа! Вы можете начать заново с другими настройками.</p>
            <button id="restart-button">Начать заново</button>
        </div>
    </div>

    <script>
        const wordDatabase = {
            A1: [
                {en:"apple",ru:["яблоко"]}, {en:"ask",ru:["спрашивать", "просить"]}, {en:"bad",ru:["плохой", "дурной"]}, {en:"ball",ru:["мяч", "шар"]}, {en:"banana",ru:["банан"]},
                {en:"bed",ru:["кровать", "постель"]}, {en:"big",ru:["большой", "крупный"]}, {en:"bird",ru:["птица", "птичка"]}, {en:"black",ru:["черный"]}, {en:"blue",ru:["синий", "голубой"]},
                {en:"book",ru:["книга", "книжка"]}, {en:"box",ru:["коробка", "ящик"]}, {en:"boy",ru:["мальчик", "парень"]}, {en:"bread",ru:["хлеб"]}, {en:"brother",ru:["брат"]},
                {en:"bus",ru:["автобус"]}, {en:"buy",ru:["покупать", "купить"]}, {en:"bye",ru:["пока"]}, {en:"car",ru:["машина", "автомобиль"]}, {en:"cat",ru:["кошка", "кот"]},
                {en:"chair",ru:["стул"]}, {en:"child",ru:["ребенок", "дитя"]}, {en:"clean",ru:["чистый", "чистить", "убирать"]}, {en:"close",ru:["закрывать", "закрыть"]}, {en:"coffee",ru:["кофе"]},
                {en:"cold",ru:["холодный", "холодно"]}, {en:"color",ru:["цвет"]}, {en:"come",ru:["приходить", "прийти"]}, {en:"cook",ru:["готовить", "повар"]}, {en:"cup",ru:["чашка", "кубок"]},
                {en:"dad",ru:["папа", "отец"]}, {en:"day",ru:["день"]}, {en:"dirty",ru:["грязный"]}, {en:"dog",ru:["собака", "пес"]}, {en:"door",ru:["дверь"]},
                {en:"drink",ru:["пить", "напиток"]}, {en:"eat",ru:["есть", "кушать"]}, {en:"egg",ru:["яйцо"]}, {en:"eight",ru:["восемь"]}, {en:"eye",ru:["глаз"]},
                {en:"face",ru:["лицо"]}, {en:"family",ru:["семья"]}, {en:"fast",ru:["быстрый", "быстро"]}, {en:"father",ru:["отец", "папа"]}, {en:"find",ru:["находить", "найти"]},
                {en:"fine",ru:["хорошо", "прекрасно"]}, {en:"finish",ru:["заканчивать", "закончить", "финиш"]}, {en:"fish",ru:["рыба"]}, {en:"five",ru:["пять"]}, {en:"floor",ru:["пол", "этаж"]},
                {en:"flower",ru:["цветок"]}, {en:"food",ru:["еда", "пища"]}, {en:"foot",ru:["нога", "стопа"]}, {en:"four",ru:["четыре"]}, {en:"friend",ru:["друг", "подруга"]},
                {en:"game",ru:["игра"]}, {en:"get",ru:["получать", "получить"]}, {en:"girl",ru:["девочка", "девушка"]}, {en:"give",ru:["давать", "дать"]}, {en:"glass",ru:["стакан", "стекло"]},
                {en:"go",ru:["идти", "ехать", "ходить"]}, {en:"good",ru:["хороший", "добрый", "хорошо"]}, {en:"green",ru:["зеленый"]}, {en:"hand",ru:["рука", "кисть"]}, {en:"happy",ru:["счастливый", "веселый", "радостный"]},
                {en:"have",ru:["иметь", "обладать"]}, {en:"he",ru:["он"]}, {en:"head",ru:["голова"]}, {en:"hear",ru:["слышать", "услышать"]}, {en:"hello",ru:["привет", "здравствуйте", "здравствуй"]},
                {en:"help",ru:["помогать", "помочь", "помощь"]}, {en:"here",ru:["здесь", "тут"]}, {en:"horse",ru:["лошадь", "конь"]}, {en:"hot",ru:["горячий", "жаркий"]}, {en:"house",ru:["дом"]},
                {en:"how",ru:["как"]}, {en:"I",ru:["я"]}, {en:"juice",ru:["сок"]}, {en:"jump",ru:["прыгать", "прыжок"]}, {en:"know",ru:["знать"]},
                {en:"leg",ru:["нога"]}, {en:"like",ru:["нравится", "любить"]}, {en:"listen",ru:["слушать", "послушать"]}, {en:"little",ru:["маленький", "немного"]}, {en:"live",ru:["жить", "проживать"]},
                {en:"long",ru:["длинный", "долгий"]}, {en:"look",ru:["смотреть", "взгляд", "выглядеть"]}, {en:"love",ru:["любить", "любовь"]}, {en:"make",ru:["делать", "сделать"]}, {en:"man",ru:["мужчина", "человек"]},
                {en:"many",ru:["много"]}, {en:"milk",ru:["молоко"]}, {en:"money",ru:["деньги"]}, {en:"mother",ru:["мать", "мама"]}, {en:"mouse",ru:["мышь"]},
                {en:"mouth",ru:["рот"]}, {en:"mum",ru:["мама", "мать"]}, {en:"name",ru:["имя"]}, {en:"new",ru:["новый"]}, {en:"night",ru:["ночь"]},
                {en:"nine",ru:["девять"]}, {en:"no",ru:["нет"]}, {en:"nose",ru:["нос"]}, {en:"not",ru:["не"]}, {en:"now",ru:["сейчас", "теперь"]},
                {en:"old",ru:["старый"]}, {en:"one",ru:["один"]}, {en:"open",ru:["открывать", "открыть"]}, {en:"orange",ru:["оранжевый", "апельсин"]}, {en:"page",ru:["страница"]},
                {en:"park",ru:["парк"]}, {en:"pen",ru:["ручка"]}, {en:"pencil",ru:["карандаш"]}, {en:"phone",ru:["телефон"]}, {en:"play",ru:["играть", "пьеса"]},
                {en:"please",ru:["пожалуйста"]}, {en:"put",ru:["класть", "положить"]}, {en:"read",ru:["читать", "прочитать"]}, {en:"red",ru:["красный"]}, {en:"rice",ru:["рис"]},
                {en:"run",ru:["бежать", "бег"]}, {en:"sad",ru:["грустный", "печальный"]}, {en:"say",ru:["сказать", "говорить"]}, {en:"school",ru:["школа"]}, {en:"see",ru:["видеть", "увидеть"]},
                {en:"seven",ru:["семь"]}, {en:"she",ru:["она"]}, {en:"shoe",ru:["туфля", "ботинок"]}, {en:"shop",ru:["магазин"]}, {en:"short",ru:["короткий", "низкий"]},
                {en:"sing",ru:["петь", "спеть"]}, {en:"sister",ru:["сестра"]}, {en:"sit",ru:["сидеть", "сесть"]}, {en:"six",ru:["шесть"]}, {en:"sleep",ru:["спать"]},
                {en:"slow",ru:["медленный", "медленно"]}, {en:"small",ru:["маленький", "небольшой"]}, {en:"smile",ru:["улыбаться", "улыбка"]}, {en:"sorry",ru:["извините", "простите", "прости"]}, {en:"speak",ru:["говорить", "разговаривать"]},
                {en:"stand",ru:["стоять", "встать"]}, {en:"start",ru:["начинать", "начать", "старт"]}, {en:"stop",ru:["останавливать", "остановить", "стоп"]}, {en:"street",ru:["улица"]}, {en:"student",ru:["студент", "ученик"]}
            ],
            A2: [
                {en:"above",ru:["над", "выше"]}, {en:"address",ru:["адрес"]}, {en:"afraid",ru:["испуганный", "бояться"]}, {en:"afternoon",ru:["день", "полдень"]}, {en:"again",ru:["снова", "опять"]},
                {en:"airport",ru:["аэропорт"]}, {en:"all",ru:["все", "всё"]}, {en:"also",ru:["также", "тоже"]}, {en:"always",ru:["всегда"]}, {en:"animal",ru:["животное", "зверь"]},
                {en:"answer",ru:["ответ", "отвечать"]}, {en:"apartment",ru:["квартира", "апартаменты"]}, {en:"arrive",ru:["прибывать", "приезжать"]}, {en:"aunt",ru:["тетя"]}, {en:"away",ru:["прочь"]},
                {en:"back",ru:["спина", "назад"]}, {en:"bakery",ru:["пекарня", "булочная"]}, {en:"balcony",ru:["балкон"]}, {en:"bathroom",ru:["ванная", "туалет"]}, {en:"beautiful",ru:["красивый", "прекрасный"]},
                {en:"because",ru:["потому что", "так как"]}, {en:"bedroom",ru:["спальня"]}, {en:"below",ru:["ниже", "под"]}, {en:"between",ru:["между"]}, {en:"bicycle",ru:["велосипед"]},
                {en:"birthday",ru:["день рождения"]}, {en:"blouse",ru:["блузка"]}, {en:"body",ru:["тело"]}, {en:"bottle",ru:["бутылка"]}, {en:"breakfast",ru:["завтрак"]},
                {en:"bridge",ru:["мост"]}, {en:"building",ru:["здание", "строение"]}, {en:"business",ru:["бизнес", "дело"]}, {en:"butter",ru:["масло"]}, {en:"cafe",ru:["кафе"]},
                {en:"camera",ru:["камера", "фотоаппарат"]}, {en:"capital",ru:["столица"]}, {en:"carrot",ru:["морковь"]}, {en:"carry",ru:["нести", "носить"]}, {en:"catch",ru:["ловить", "поймать"]},
                {en:"cereal",ru:["хлопья", "каша"]}, {en:"cheese",ru:["сыр"]}, {en:"chicken",ru:["курица", "цыпленок"]}, {en:"cinema",ru:["кино", "кинотеатр"]}, {en:"city",ru:["город"]},
                {en:"class",ru:["класс", "урок"]}, {en:"clever",ru:["умный", "сообразительный"]}, {en:"clock",ru:["часы"]}, {en:"clothes",ru:["одежда"]}, {en:"cloudy",ru:["облачно"]},
                {en:"coat",ru:["пальто"]}, {en:"computer",ru:["компьютер"]}, {en:"conversation",ru:["разговор", "беседа"]}, {en:"country",ru:["страна", "деревня"]}, {en:"cousin",ru:["кузен", "кузина"]},
                {en:"cow",ru:["корова"]}, {en:"cream",ru:["сливки", "крем"]}, {en:"cross",ru:["пересекать", "крест"]}, {en:"cry",ru:["плакать", "кричать"]}, {en:"dance",ru:["танцевать", "танец"]},
                {en:"dangerous",ru:["опасный"]}, {en:"dark",ru:["темный", "темнота"]}, {en:"date",ru:["дата", "свидание"]}, {en:"daughter",ru:["дочь"]}, {en:"dentist",ru:["стоматолог", "дантист"]},
                {en:"desert",ru:["пустыня"]}, {en:"desk",ru:["парта", "письменный стол"]}, {en:"dictionary",ru:["словарь"]}, {en:"different",ru:["разный", "другой"]}, {en:"difficult",ru:["трудный", "сложный"]},
                {en:"dinner",ru:["ужин"]}, {en:"doctor",ru:["доктор", "врач"]}, {en:"down",ru:["вниз"]}, {en:"draw",ru:["рисовать", "тащить"]}, {en:"dream",ru:["мечта", "сон", "мечтать"]},
                {en:"dress",ru:["платье", "одеваться"]}, {en:"drive",ru:["водить", "ехать"]}, {en:"driver",ru:["водитель"]}, {en:"during",ru:["в течение", "во время"]}, {en:"ear",ru:["ухо"]},
                {en:"early",ru:["рано", "ранний"]}, {en:"east",ru:["восток"]}, {en:"easy",ru:["легкий", "простой"]}, {en:"email",ru:["электронная почта", "имейл"]}, {en:"end",ru:["конец", "заканчивать", "закончить"]},
                {en:"engineer",ru:["инженер"]}, {en:"enough",ru:["достаточно"]}, {en:"evening",ru:["вечер"]}, {en:"every",ru:["каждый", "всякий"]}, {en:"example",ru:["пример"]},
                {en:"excited",ru:["взволнованный", "возбужденный"]}, {en:"exercise",ru:["упражнение", "тренировка"]}, {en:"expensive",ru:["дорогой", "дорогостоящий"]}, {en:"fall",ru:["падать", "осень"]}, {en:"famous",ru:["известный", "знаменитый"]},
                {en:"far",ru:["далеко", "дальний"]}, {en:"farm",ru:["ферма"]}, {en:"farmer",ru:["фермер"]}, {en:"fat",ru:["толстый", "жирный"]}, {en:"feel",ru:["чувствовать"]}
            ],
            B1: [
                {en:"ability",ru:["способность", "умение"]}, {en:"abroad",ru:["за границей", "за границу"]}, {en:"accept",ru:["принимать", "соглашаться"]}, {en:"accident",ru:["авария", "несчастный случай"]}, {en:"achieve",ru:["достигать", "добиваться"]},
                {en:"across",ru:["через", "сквозь"]}, {en:"action",ru:["действие", "поступок"]}, {en:"activity",ru:["деятельность", "активность"]}, {en:"actor",ru:["актер"]}, {en:"actually",ru:["на самом деле", "фактически"]},
                {en:"adult",ru:["взрослый"]}, {en:"advantage",ru:["преимущество", "польза"]}, {en:"adventure",ru:["приключение"]}, {en:"advertisement",ru:["реклама", "объявление"]}, {en:"advice",ru:["совет"]},
                {en:"afford",ru:["позволить себе"]}, {en:"agree",ru:["соглашаться", "согласиться"]}, {en:"aim",ru:["цель", "целиться"]}, {en:"allow",ru:["позволять", "разрешать"]}, {en:"almost",ru:["почти"]},
                {en:"alone",ru:["один", "в одиночестве"]}, {en:"along",ru:["вдоль"]}, {en:"already",ru:["уже"]}, {en:"alternative",ru:["альтернатива", "выбор"]}, {en:"although",ru:["хотя", "несмотря на"]},
                {en:"amazing",ru:["удивительный", "изумительный"]}, {en:"among",ru:["среди", "между"]}, {en:"amount",ru:["количество", "сумма"]}, {en:"ancient",ru:["древний", "старинный"]}, {en:"ankle",ru:["лодыжка", "щиколотка"]},
                {en:"apologize",ru:["извиняться", "извиниться"]}, {en:"appear",ru:["появляться", "казаться"]}, {en:"appearance",ru:["внешность", "появление"]}, {en:"apply",ru:["применять", "подавать заявление"]}, {en:"appointment",ru:["встреча", "прием"]},
                {en:"approach",ru:["подход", "приближаться"]}, {en:"argue",ru:["спорить", "ссориться"]}, {en:"argument",ru:["аргумент", "спор"]}, {en:"army",ru:["армия"]}, {en:"arrange",ru:["организовать", "устроить"]},
                {en:"arrest",ru:["арестовать", "арест"]}, {en:"article",ru:["статья"]}, {en:"artist",ru:["художник", "артист"]}, {en:"asleep",ru:["спящий"]}, {en:"assistant",ru:["помощник", "ассистент"]},
                {en:"athlete",ru:["спортсмен", "атлет"]}, {en:"attack",ru:["атака", "нападать"]}, {en:"attend",ru:["посещать", "присутствовать"]}, {en:"attention",ru:["внимание"]}, {en:"attitude",ru:["отношение", "позиция"]},
                {en:"attract",ru:["привлекать", "притягивать"]}, {en:"attractive",ru:["привлекательный", "притягательный"]}, {en:"audience",ru:["аудитория", "публика"]}, {en:"author",ru:["автор"]}, {en:"available",ru:["доступный", "свободный"]},
                {en:"average",ru:["средний", "в среднем"]}, {en:"avoid",ru:["избегать"]}, {en:"award",ru:["награда", "премия"]}, {en:"awful",ru:["ужасный", "отвратительный"]}, {en:"background",ru:["фон", "происхождение"]},
                {en:"bake",ru:["печь", "выпекать"]}, {en:"balance",ru:["баланс", "равновесие"]}, {en:"band",ru:["группа", "оркестр"]}, {en:"barbecue",ru:["барбекю", "шашлык"]}, {en:"baseball",ru:["бейсбол"]},
                {en:"based",ru:["основан", "основанный"]}, {en:"basketball",ru:["баскетбол"]}, {en:"bean",ru:["фасоль", "боб"]}, {en:"bear",ru:["медведь", "терпеть", "носить"]}, {en:"beat",ru:["бить", "побеждать"]},
                {en:"beef",ru:["говядина"]}, {en:"before",ru:["до", "перед"]}, {en:"behave",ru:["вести себя"]}, {en:"behind",ru:["позади", "сзади"]}, {en:"believe",ru:["верить", "полагать"]},
                {en:"belong",ru:["принадлежать"]}, {en:"belt",ru:["ремень", "пояс"]}, {en:"benefit",ru:["выгода", "польза"]}, {en:"best",ru:["лучший"]}, {en:"better",ru:["лучше"]},
                {en:"bill",ru:["счет"]}, {en:"biology",ru:["биология"]}, {en:"birth",ru:["рождение"]}, {en:"biscuit",ru:["печенье"]}, {en:"blanket",ru:["одеяло"]},
                {en:"block",ru:["блок", "квартал"]}, {en:"blond",ru:["блондин", "светлый"]}, {en:"blood",ru:["кровь"]}, {en:"board",ru:["доска", "правление"]}, {en:"boil",ru:["кипеть", "варить"]},
                {en:"bone",ru:["кость"]}, {en:"bookcase",ru:["книжный шкаф"]}, {en:"boring",ru:["скучный"]}, {en:"borrow",ru:["одалживать", "занимать"]}, {en:"boss",ru:["босс", "начальник"]}
            ],
            B2: [
                {en:"abandon",ru:["покидать", "оставлять", "бросать"]}, {en:"absolute",ru:["абсолютный", "полный"]}, {en:"academic",ru:["академический", "учебный"]}, {en:"acceptable",ru:["приемлемый", "допустимый"]}, {en:"accompany",ru:["сопровождать"]},
                {en:"account",ru:["счет", "отчет"]}, {en:"accurate",ru:["точный", "верный"]}, {en:"accuse",ru:["обвинять"]}, {en:"acknowledge",ru:["признавать", "подтверждать"]}, {en:"acquire",ru:["приобретать", "получать"]},
                {en:"actual",ru:["фактический", "реальный"]}, {en:"adapt",ru:["адаптироваться", "приспосабливаться"]}, {en:"additional",ru:["дополнительный"]}, {en:"adequate",ru:["адекватный", "достаточный"]}, {en:"adjust",ru:["регулировать", "корректировать"]},
                {en:"administration",ru:["администрация", "управление"]}, {en:"admire",ru:["восхищаться", "любоваться"]}, {en:"admission",ru:["прием", "вход", "признание"]}, {en:"adopt",ru:["усыновлять", "принимать"]}, {en:"advanced",ru:["продвинутый", "передовой"]},
                {en:"affair",ru:["дело", "роман"]}, {en:"afterwards",ru:["впоследствии", "потом"]}, {en:"agency",ru:["агентство"]}, {en:"agenda",ru:["повестка дня"]}, {en:"aggressive",ru:["агрессивный", "напористый"]},
                {en:"aid",ru:["помощь", "помогать"]}, {en:"aircraft",ru:["самолет", "авиация"]}, {en:"alarm",ru:["тревога", "сигнализация"]}, {en:"alter",ru:["изменять", "менять"]}, {en:"anger",ru:["гнев", "злость"]},
                {en:"angle",ru:["угол", "точка зрения"]}, {en:"anniversary",ru:["годовщина", "юбилей"]}, {en:"annual",ru:["ежегодный", "годовой"]}, {en:"anxious",ru:["озабоченный", "тревожный"]}, {en:"apparent",ru:["очевидный", "явный"]},
                {en:"appeal",ru:["обращение", "привлекательность", "апелляция"]}, {en:"appreciate",ru:["ценить", "быть благодарным"]}, {en:"appropriate",ru:["соответствующий", "уместный"]}, {en:"approval",ru:["одобрение", "утверждение"]}, {en:"approve",ru:["одобрять", "утверждать"]},
                {en:"arise",ru:["возникать", "появляться"]}, {en:"armed",ru:["вооруженный"]}, {en:"arms",ru:["оружие", "руки"]}, {en:"artificial",ru:["искусственный"]}, {en:"artistic",ru:["художественный", "артистический"]},
                {en:"ashamed",ru:["пристыженный"]}, {en:"aspect",ru:["аспект", "сторона"]}, {en:"assess",ru:["оценивать"]}, {en:"assessment",ru:["оценка"]}, {en:"associate",ru:["ассоциировать", "партнер"]},
                {en:"association",ru:["ассоциация", "объединение"]}, {en:"assume",ru:["предполагать", "принимать на себя"]}, {en:"assumption",ru:["предположение"]}, {en:"assure",ru:["уверять", "гарантировать"]}, {en:"atmosphere",ru:["атмосфера"]},
                {en:"attach",ru:["прикреплять", "присоединять"]}, {en:"attempt",ru:["попытка", "пытаться"]}, {en:"awareness",ru:["осведомленность", "осознание"]}, {en:"backup",ru:["резервная копия", "поддержка"]}, {en:"ban",ru:["запрещать", "запрет"]},
                {en:"barrier",ru:["барьер", "преграда"]}, {en:"basically",ru:["в основном", "по сути"]}, {en:"battle",ru:["битва", "сражение"]}, {en:"beauty",ru:["красота"]}, {en:"belief",ru:["вера", "убеждение"]},
                {en:"bend",ru:["гнуть", "сгибать"]}, {en:"besides",ru:["кроме того", "помимо"]}, {en:"bias",ru:["предвзятость", "склонность"]}, {en:"bid",ru:["предложение", "ставка"]}, {en:"bind",ru:["связывать", "обязывать"]},
                {en:"biological",ru:["биологический"]}, {en:"blame",ru:["винить", "вина"]}, {en:"blind",ru:["слепой"]}, {en:"bond",ru:["связь", "узы"]}, {en:"border",ru:["граница"]},
                {en:"bother",ru:["беспокоить", "надоедать"]}, {en:"bound",ru:["обязанный", "связанный"]}, {en:"branch",ru:["ветка", "филиал"]}, {en:"brand",ru:["бренд", "марка"]}, {en:"breathe",ru:["дышать"]},
                {en:"brick",ru:["кирпич"]}, {en:"brief",ru:["краткий", "короткий"]}, {en:"bright",ru:["яркий", "светлый", "умный"]}, {en:"brilliant",ru:["блестящий", "гениальный"]}, {en:"broad",ru:["широкий"]},
                {en:"broadcast",ru:["трансляция", "вещать"]}, {en:"budget",ru:["бюджет"]}, {en:"burden",ru:["бремя", "ноша"]}
            ],
            C1: [
                {en:"abolish",ru:["упразднять", "отменять"]}, {en:"absorption",ru:["поглощение", "всасывание"]}, {en:"absurd",ru:["абсурдный", "нелепый"]}, {en:"abundance",ru:["изобилие", "избыток"]}, {en:"accomplice",ru:["сообщник", "соучастник"]},
                {en:"accountability",ru:["подотчетность", "ответственность"]}, {en:"accumulate",ru:["накапливать", "собирать"]}, {en:"accusation",ru:["обвинение"]}, {en:"acquaintance",ru:["знакомый", "знакомство"]}, {en:"acquisition",ru:["приобретение"]},
                {en:"acute",ru:["острый", "проницательный"]}, {en:"adherence",ru:["приверженность", "соблюдение"]}, {en:"adjacent",ru:["смежный", "прилегающий"]}, {en:"administer",ru:["управлять", "назначать"]}, {en:"adolescent",ru:["подросток"]},
                {en:"adverse",ru:["неблагоприятный", "враждебный"]}, {en:"advocate",ru:["защитник", "отстаивать"]}, {en:"aesthetic",ru:["эстетический"]}, {en:"affection",ru:["привязанность", "любовь"]}, {en:"aftermath",ru:["последствия"]},
                {en:"aggression",ru:["агрессия"]}, {en:"alien",ru:["инопланетянин", "чужой", "чуждый"]}, {en:"alignment",ru:["выравнивание", "союз"]}, {en:"allege",ru:["утверждать", "заявлять"]}, {en:"allocate",ru:["выделять", "распределять"]},
                {en:"allowance",ru:["пособие", "карманные деньги"]}, {en:"ally",ru:["союзник"]}, {en:"amateur",ru:["любитель", "дилетант"]}, {en:"ambassador",ru:["посол"]}, {en:"amend",ru:["вносить поправки", "исправлять"]},
                {en:"amid",ru:["среди", "посреди"]}, {en:"analogy",ru:["аналогия", "сходство"]}, {en:"ancestor",ru:["предок"]}, {en:"anchor",ru:["якорь", "ведущий"]}, {en:"anonymous",ru:["анонимный", "безымянный"]},
                {en:"apparatus",ru:["аппарат", "устройство"]}, {en:"applicable",ru:["применимый", "подходящий"]}, {en:"appoint",ru:["назначать"]}, {en:"arbitrary",ru:["произвольный", "случайный"]}, {en:"architect",ru:["архитектор", "зодчий"]},
                {en:"archive",ru:["архив"]}, {en:"arena",ru:["арена"]}, {en:"array",ru:["массив", "множество"]}, {en:"articulate",ru:["четко выражать", "внятный"]}, {en:"ash",ru:["пепел", "зола"]},
                {en:"aspiration",ru:["стремление", "надежда"]}, {en:"assassination",ru:["убийство", "покушение"]}, {en:"assault",ru:["нападение", "штурм"]}, {en:"assemble",ru:["собирать", "монтировать"]}, {en:"assert",ru:["утверждать", "отстаивать"]},
                {en:"asset",ru:["актив", "ценное качество"]}, {en:"assign",ru:["назначать", "поручать"]}, {en:"asylum",ru:["убежище", "приют"]}, {en:"atrocity",ru:["зверство", "жестокость"]}, {en:"attain",ru:["достигать", "добиваться"]},
                {en:"attribute",ru:["атрибут", "приписывать", "свойство"]}, {en:"auction",ru:["аукцион"]}, {en:"audit",ru:["аудит", "проверка"]}, {en:"authentic",ru:["подлинный", "настоящий"]}, {en:"authorize",ru:["разрешать", "уполномочивать"]},
                {en:"autonomy",ru:["автономия", "независимость"]}, {en:"availability",ru:["доступность", "наличие"]}, {en:"averse",ru:["несклонный", "испытывающий отвращение"]}, {en:"aviation",ru:["авиация"]}, {en:"axis",ru:["ось"]},
                {en:"ballot",ru:["бюллетень", "голосование"]}, {en:"banner",ru:["знамя", "транспарант"]}, {en:"barely",ru:["едва", "еле-еле"]}, {en:"barrel",ru:["бочка", "ствол"]}, {en:"basin",ru:["бассейн", "таз"]},
                {en:"bat",ru:["летучая мышь", "бита"]}, {en:"battlefield",ru:["поле битвы"]}, {en:"bay",ru:["залив", "бухта"]}, {en:"beam",ru:["луч", "балка"]}, {en:"beast",ru:["зверь", "чудовище"]},
                {en:"behalf",ru:["от имени", "в интересах"]}, {en:"beloved",ru:["возлюбленный", "любимый"]}, {en:"benchmark",ru:["эталон", "критерий"]}, {en:"beneath",ru:["под", "ниже"]}, {en:"beneficiary",ru:["бенефициар", "наследник"]},
                {en:"beverage",ru:["напиток"]}, {en:"bewilder",ru:["сбивать с толку", "озадачивать"]}, {en:"biography",ru:["биография", "жизнеописание"]}
            ],
            C2: [
                {en:"abate",ru:["уменьшать", "ослабевать"]}, {en:"aberration",ru:["отклонение", "заблуждение"]}, {en:"abhor",ru:["ненавидеть", "питать отвращение"]}, {en:"abject",ru:["жалкий", "презренный"]}, {en:"abjure",ru:["отрекаться", "отказываться"]},
                {en:"abnegation",ru:["самоотречение", "отказ"]}, {en:"abrogate",ru:["отменять", "аннулировать"]}, {en:"abscond",ru:["скрываться", "сбегать"]}, {en:"abstruse",ru:["заумный", "непонятный"]}, {en:"accede",ru:["соглашаться", "присоединяться"]},
                {en:"accolade",ru:["похвала", "награда"]}, {en:"acerbic",ru:["едкий", "язвительный"]}, {en:"acrimonious",ru:["язвительный", "желчный"]}, {en:"acumen",ru:["проницательность", "сообразительность"]}, {en:"adamant",ru:["непреклонный", "категоричный"]},
                {en:"admonish",ru:["упрекать", "предостерегать"]}, {en:"adulation",ru:["лесть", "подхалимство"]}, {en:"adumbrate",ru:["намекать", "делать набросок"]}, {en:"aegis",ru:["эгида", "защита"]}, {en:"affable",ru:["приветливый", "любезный"]},
                {en:"aggrandize",ru:["преувеличивать", "возвеличивать"]}, {en:"alacrity",ru:["рвение", "готовность"]}, {en:"allay",ru:["успокаивать", "облегчать"]}, {en:"ambivalent",ru:["двойственный", "неоднозначный"]}, {en:"ameliorate",ru:["улучшать", "исправлять"]},
                {en:"anachronistic",ru:["анахроничный", "устарелый"]}, {en:"anathema",ru:["анафема", "проклятие"]}, {en:"ancillary",ru:["вспомогательный", "дополнительный"]}, {en:"anodyne",ru:["болеутоляющее", "успокоительное"]}, {en:"antipathy",ru:["антипатия", "отвращение"]},
                {en:"antithetical",ru:["противоположный", "антитетический"]}, {en:"aplomb",ru:["апломб", "самоуверенность"]}, {en:"apocryphal",ru:["апокрифический", "сомнительный"]}, {en:"apogee",ru:["апогей", "высшая точка"]}, {en:"apostate",ru:["отступник", "ренегат"]},
                {en:"apotheosis",ru:["апофеоз", "обожествление"]}, {en:"approbation",ru:["одобрение", "похвала"]}, {en:"arcane",ru:["тайный", "загадочный"]}, {en:"archetypal",ru:["архетипический", "прототипический"]}, {en:"arduous",ru:["трудный", "напряженный"]},
                {en:"arrant",ru:["отъявленный", "сущий"]}, {en:"ascetic",ru:["аскетичный", "аскет"]}, {en:"asperity",ru:["резкость", "суровость"]}, {en:"assiduous",ru:["усердный", "прилежный"]}, {en:"assuage",ru:["успокаивать", "смягчать"]},
                {en:"astringent",ru:["вяжущий", "терпкий"]}, {en:"atavism",ru:["атавизм"]}, {en:"attenuate",ru:["ослаблять", "смягчать"]}, {en:"audacious",ru:["дерзкий", "смелый"]}, {en:"auspicious",ru:["благоприятный", "удачный"]},
                {en:"austere",ru:["суровый", "строгий"]}, {en:"avarice",ru:["жадность", "алчность"]}, {en:"aver",ru:["утверждать", "заявлять"]}, {en:"axiomatic",ru:["аксиоматический", "неоспоримый"]}, {en:"bacchanalian",ru:["вакхический", "разгульный"]},
                {en:"baleful",ru:["пагубный", "зловещий"]}, {en:"banal",ru:["банальный", "избитый"]}, {en:"bastion",ru:["бастион", "оплот"]}, {en:"bellicose",ru:["воинственный", "агрессивный"]}, {en:"benign",ru:["доброкачественный", "мягкий"]},
                {en:"bevy",ru:["стая", "толпа"]}, {en:"bilk",ru:["обманывать", "надувать"]}, {en:"blandishment",ru:["лесть", "уговоры"]}, {en:"blight",ru:["упадок", "зараза"]}, {en:"blithe",ru:["беззаботный", "веселый"]},
                {en:"bombastic",ru:["напыщенный", "высокопарный"]}, {en:"boorish",ru:["невежливый", "хамский"]}, {en:"brazen",ru:["наглый", "бесстыдный"]}, {en:"broach",ru:["затрагивать", "поднимать вопрос"]}, {en:"bucolic",ru:["пасторальный", "сельский"]},
                {en:"burgeon",ru:["расцветать", "расти"]}, {en:"burnish",ru:["полировать", "начищать"]}, {en:"buttress",ru:["поддерживать", "опора"]}, {en:"byzantine",ru:["византийский", "сложный"]}, {en:"cabal",ru:["клик", "заговор"]},
                {en:"cachinnate",ru:["хохотать", "гоготать"]}, {en:"cajole",ru:["задабривать", "упрашивать"]}, {en:"callous",ru:["черствый", "бездушный"]}, {en:"calumny",ru:["клевета"]}, {en:"canard",ru:["утка", "ложный слух"]},
                {en:"capitulate",ru:["капитулировать", "сдаваться"]}, {en:"capricious",ru:["капризный", "непостоянный"]}, {en:"captious",ru:["придирчивый", "коварный"]}
            ]
        };

        const settingsView = document.getElementById('settings-view');
        const gameView = document.getElementById('game-view');
        const levelCompleteView = document.getElementById('level-complete-view');
        const levelSelect = document.getElementById('level-select');
        const modeSelect = document.getElementById('mode-select');
        const wordCountSlider = document.getElementById('word-count-slider');
        const wordCountDisplay = document.getElementById('word-count-display');
        const startButton = document.getElementById('start-button');
        const backButton = document.getElementById('back-button');
        const restartButton = document.getElementById('restart-button');
        const currentWordNumberElem = document.getElementById('current-word-number');
        const totalWordNumberElem = document.getElementById('total-word-number');
        const wordToTranslateElem = document.getElementById('word-to-translate');
        const answerInput = document.getElementById('answer-input');
        const actionButton = document.getElementById('action-button');
        const feedbackElem = document.getElementById('feedback');
        const scoreCorrectElem = document.getElementById('score-correct');
        const scoreIncorrectElem = document.getElementById('score-incorrect');
        const scoreTotalElem = document.getElementById('score-total');

        let currentWord = null;
        let correctCount = 0;
        let incorrectCount = 0;
        let shuffledWords = [];
        let totalWordsInSession = 0;
        let gameState = 'answering'; // 'answering' or 'reviewing'

        function switchView(viewToShow) {
            [settingsView, gameView, levelCompleteView].forEach(view => {
                view.classList.toggle('hidden-view', view.id !== viewToShow.id);
            });
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function startGame() {
            const level = levelSelect.value;
            const fullWordList = [...wordDatabase[level]];
            const desiredCount = parseInt(wordCountSlider.value, 10);
            
            const sessionWordCount = Math.min(desiredCount, fullWordList.length);
            
            shuffledWords = shuffleArray(fullWordList).slice(0, sessionWordCount);
            totalWordsInSession = shuffledWords.length;
            totalWordNumberElem.textContent = totalWordsInSession;
            
            correctCount = 0; incorrectCount = 0;
            updateScore();
            switchView(gameView);
            generateNewWord();
        }

        function generateNewWord() {
            if (shuffledWords.length === 0) {
                switchView(levelCompleteView);
                return;
            }
            
            resetForNextRound();
            
            const wordPair = shuffledWords.pop();
            currentWordNumberElem.textContent = totalWordsInSession - shuffledWords.length;
            const mode = modeSelect.value === 'mixed' ? (Math.random() < 0.5 ? 'en-ru' : 'ru-en') : modeSelect.value;

            if (mode === 'en-ru') {
                wordToTranslateElem.textContent = wordPair.en;
                currentWord = { source: wordPair.en, answer: wordPair.ru, displayAnswer: wordPair.ru.join(', ') };
            } else {
                wordToTranslateElem.textContent = wordPair.ru[0]; // Show the first Russian word
                currentWord = { source: wordPair.ru[0], answer: [wordPair.en], displayAnswer: wordPair.en };
            }
            
            requestAnimationFrame(() => {
                wordToTranslateElem.style.opacity = '1';
            });
        }

        function checkAnswer() {
            const userAnswer = answerInput.value.trim().toLowerCase();
            if (!userAnswer) return;

            const correctAnswers = currentWord.answer.map(a => a.toLowerCase());
            
            if (correctAnswers.includes(userAnswer)) {
                correctCount++;
                feedbackElem.innerHTML = `✅ Правильно! Возможные переводы: <strong>${currentWord.displayAnswer}</strong>`;
                feedbackElem.className = 'feedback correct visible';
                answerInput.classList.add('correct-glow');
                animateScore(scoreCorrectElem);
            } else {
                incorrectCount++;
                feedbackElem.innerHTML = `❌ Неверно. Правильный ответ: <strong>${currentWord.displayAnswer}</strong>`;
                feedbackElem.className = 'feedback incorrect visible';
                answerInput.classList.add('incorrect-glow', 'shake-animation');
                setTimeout(() => answerInput.classList.remove('shake-animation'), 500);
                animateScore(scoreIncorrectElem);
            }
            
            animateScore(scoreTotalElem);
            updateScore();
            
            gameState = 'reviewing';
            answerInput.disabled = true;
            actionButton.textContent = 'Следующее слово';
            actionButton.focus();
        }
        
        function updateScore() {
            scoreCorrectElem.textContent = correctCount;
            scoreIncorrectElem.textContent = incorrectCount;
            scoreTotalElem.textContent = correctCount + incorrectCount;
        }

        function animateScore(element) {
            element.classList.add('score-pop');
            setTimeout(() => element.classList.remove('score-pop'), 200);
        }

        function resetForNextRound() {
            gameState = 'answering';
            answerInput.value = '';
            answerInput.disabled = false;
            answerInput.className = '';
            feedbackElem.classList.remove('visible', 'correct', 'incorrect');
            actionButton.textContent = 'Проверить';
            answerInput.focus();
        }
        
        function returnToMenu() {
            switchView(settingsView);
        }
        
        function updateSlider() {
            const value = wordCountSlider.value;
            wordCountDisplay.textContent = value;
            const percentage = (value - wordCountSlider.min) / (wordCountSlider.max - wordCountSlider.min) * 100;
            wordCountSlider.style.background = `linear-gradient(to right, var(--primary-color) ${percentage}%, var(--border-color) ${percentage}%)`;
        }

        function handleActionClick() {
            if (gameState === 'answering') {
                checkAnswer();
            } else { 
                wordToTranslateElem.style.opacity = '0';
                setTimeout(generateNewWord, 300);
            }
        }
        
        document.addEventListener('keyup', function(event) {
            if (event.key !== 'Enter') return;
            if (gameView.classList.contains('hidden-view')) return;

            if (gameState === 'reviewing') {
                handleActionClick();
            }
        });

        answerInput.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                event.preventDefault();
                if (gameState === 'answering') {
                    handleActionClick();
                }
            }
        });

        startButton.addEventListener('click', startGame);
        backButton.addEventListener('click', returnToMenu);
        restartButton.addEventListener('click', returnToMenu);
        actionButton.addEventListener('click', handleActionClick);
        wordCountSlider.addEventListener('input', updateSlider);
        levelSelect.addEventListener('change', updateSlider); 
        document.addEventListener('DOMContentLoaded', updateSlider);
    </script>
</body>
</html>